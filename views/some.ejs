<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/assets/materialize.min.css">
    <title>MAY MAY generated</title>
    <style> 
    
    </style>
</head>
<body>
        <div class="container s12">
                <div class="nav-wrapper light-green">
                    <div class="nav-content ">
                        <h3 class="brand-logo  center-align">
                                MAY MAY GEN
                        </h3>
                    </div>
                </div>   
    <div class="container"><h1>YOur meme Is generated</h1>
       <div class="row">
           <div class="col s12">
        <canvas id="canvas" ></canvas></div>
    </div> 
    </div>
</body>

<script>
function addTextToImage(imagePath, text1,text2) {
    text1=text1.toUpperCase();
    text2=text2.toUpperCase();
    console.log(text1);
    var circle_canvas = document.getElementById("canvas");
    var context = circle_canvas.getContext("2d");
    circle_canvas.height="<%=h%>";
    circle_canvas.width="<%=w%>";
    // Draw Image function
    var img = new Image();
    img.src = imagePath;
    img.onload = function () {
        context.drawImage(img, 0,0);
        context.lineWidth = 1;
        context.fillStyle = "white";
        context.lineStyle = "#ffff00";
        context.font = "36pt bold Impact ";
        context.fillText(text1, 50, circle_canvas.height*.15);
        context.fillText(text2, 50, circle_canvas.height*.90);
    };
}

addTextToImage("assets/uploads/<%=data%>.jpg","<%=text.top%>","<%=text.bottom%>")


</script>
</html>